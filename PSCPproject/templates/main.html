<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static\css\style.css">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for ('static', filename='css/style.css') }}" >
    <title>Document</title>

    <style>
        
    </style>
</head>
<body >
    <form action="" method="POST" style="transition: .5s;">
    
        <nav>
            <div class="logo">Handsomeslip</div>
            <div id="thai-time"></div>
            <div class="triangle" id="triangle"></div>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
        <section id = "about" class="top">
            <div class = "img_s">
                <h1><img src="/static/image/it-kmitl.png" class = "img_it"></h1>
            </div>
        </section>

        
        <section class="top"> 
            <div class="allabout">
                <div class="about">
                    <h1>About</h1>
                    <p>     กลุ่มคณะผู้จัดทำ ได้ตระหนักถึงปัญหาว่าเพื่อนหลายคนไม่สามารถตัดสินใจในการเลือกที่จะถอนรายวิชาหรือเลือกที่จะอ่านหนังสือ
                        เพื่อเพิ่มคะแนนรายวิชานั้นๆ และยังไม่เห็นภาพที่ชัดเจนของคะแนนรายวิชา จากปัญหาดังกล่าว 
                        กลุ่มคณะผู้จัดทำจึงเกิดความคิดที่ต้องการมีเครื่องช่วยในการตัดสินใจ และให้นักศึกษาเห็นภาพ จากคะแนนของตัวเอง 
                        เพื่อให้นักศึกษาสามารถตัดสินใจจาก กราฟคะแนนรายวิชาและคะแนนที่จะมีข้อความบอกว่าอยู่ในเกณฑ์ช่วงใด
                    </p>
                </div>
                <div class="countdown" id="countdown"></div>
            </div>
        </section>

        <div class="boxx">
            <div class="box">
                <section id="subject-container">
                    <div class="subject-entry">
                        <p>ชื่อวิชา:</p>
                        <input type="text" name="subject[]" placeholder="ชื่อวิชา" required />
                        <p>คะแนน:</p>
                        <input type="text" name="cal[]" placeholder="คะแนน" min="0" max="100" required />
                    </div>
                </section>
        
                <section style="display: flex; gap: 5vh;">
                    <button type="button" class="add-button" onclick="addSubject()">Add</button>
                    <input type="submit" value="Submit" />
                    <input type="reset" value="Reset" />
                </section>
            </div>
        </div>

        <section id="total-container">
            <div class="image-container">
                <img src="{{plot_url}}" alt="Plot">
                <div class="alltotal" style="display: flex; flex-direction: column;">
                    <p >รายวิชาที่มีความเสี่ยง</p>
                    {% for item in list_name %}
                        <ul>{{ item }}</ul>
                    {% endfor %}
                </div>
            </div>
        </section>

        <div id="contact" class="team-container">
            <div class="team-member">
              <img src="/static/image/whai.jpg" alt="Whai">
              <div class="team-info">
                <h3>Whai</h3>
                <p>Kannawat Sriputto</p>
                    <button><a href="https://github.com/KannawatSriputto09" target="_blank">Contact</a></button>
              </div>
            </div>

            <div class="team-member">
              <img src="/static/image/peem.jpg" alt="Peem">
              <div class="team-info">
                <h3>Peem</h3>
                <p>Natachai Kongnork</p>
                    <button><a href="https://github.com/67070046-Natachai" target="_blank">Contact</a></button>
              </div>
            </div>

            <div class="team-member">
              <img src="/static/image/462554873_872053887978377_5078070492231550562_n.jpg" alt="Golf">
              <div class="team-info">
                <h3>Golf</h3>
                <p>Teerut Satapornwanit</p>
                    <button><a href="https://github.com/PDR160S" target="_blank">Contact</a></button>
              </div>
            </div>

            <div class="team-member">
              <img src="/static/image/kengg.jpg" alt="Keng">
              <div class="team-info">
                <h3>Keng</h3>
                <p>Neti Watcharaphum</p>
                    <button><a href="https://github.com/Neti67070093" target="_blank">Contact</a></button>
              </div>
            </div>
        </div>

        <script>//เวลา//
            function updateThaiTime() {
                const options = { timeZone: 'Asia/Bangkok', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                const formatter = new Intl.DateTimeFormat([], options);
                const timeString = formatter.format(new Date());
                document.getElementById('thai-time').innerText = `${timeString}`;
            }
            setInterval(updateThaiTime, 1000);
            updateThaiTime();
        </script>

    <script> //3เหลี่ยม
    const triangle = document.getElementById('triangle');
    const aboutLink = document.querySelector('nav ul li:nth-child(1) a');
    const contactLink = document.querySelector('nav ul li:nth-child(2) a');

    function updateTriangle() {
        const aboutSection = document.getElementById('about');
        const contactSection = document.getElementById('contact');

        const aboutOffset = aboutSection.getBoundingClientRect();
        const contactOffset = contactSection.getBoundingClientRect();

        if (aboutOffset.top <= window.innerHeight && aboutOffset.bottom >= 0) {
            const aboutPosition = aboutLink.getBoundingClientRect().left;
            triangle.style.left = `${aboutPosition + aboutLink.offsetWidth / 2 - 20}px`;
        } else if (contactOffset.top <= window.innerHeight && contactOffset.bottom >= 0) {
            const contactPosition = contactLink.getBoundingClientRect().left;
            triangle.style.left = `${contactPosition + contactLink.offsetWidth / 2 - 20}px`;
        }
    }
    window.addEventListener('scroll', updateTriangle);
    updateTriangle();
    function addSubject() {
        const subjectContainer = document.getElementById('subject-container');
        const newEntry = document.createElement('div');
        newEntry.classList.add('subject-entry');
        newEntry.innerHTML = `
            <p>ชื่อวิชา:</p>
            <input type="text" name="subject[]" placeholder="ชื่อวิชา" required />
            <p>คะแนน:</p>
            <input type="text" name="cal[]" placeholder="คะแนน" min="0" max="100" required />
        `;
        subjectContainer.appendChild(newEntry);
    }
    // กำหนดเวลาถอน ปปปป-ดด-วว T โมง:นาที:วินาที
    const targetDate = new Date("2024-12-31T23:59:59").getTime();
    function updateCountdown() {
        const now = new Date().getTime();
        const timeLeft = targetDate - now;
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
        document.getElementById("countdown").innerHTML = 
            `เหลือเวลาอีกในการถอนอีก ${days} วัน : ${hours} ชั่วโมง : ${minutes} นาที : ${seconds} วินาที`;
        if (timeLeft < 0) {
            document.getElementById("countdown").innerHTML = "หมดเวลา!";
            clearInterval(countdownInterval);
        }
    }
    const countdownInterval = setInterval(updateCountdown, 1000);
    updateCountdown();
</script>
        <footer>
            <p>Handsomeslip</p>
         </footer>
    </form>
</body>
</html>
